# 🛒 Zoares - מערכת הזמנות ללקוח

ברוכים הבאים למערכת ההזמנות של Zoares!

## 👨‍💻 מפתח המערכת
**פותח על ידי:** ירון זוארס

---

## ✨ תכונות חדשות

### 🔗 קישור למערכת המנהל
- **בסיס נתונים משותף**: הזמנות מקושרות לנתוני לקוח במערכת המנהל
- **שמירת היסטוריה**: פרטי לקוח נשמרים למשך 365 ימים
- **מעקב מתקדם**: המנהל יכול לעקוב אחר היסטוריית הזמנות שלך

### 🛒 עגלת קניות משופרת
- **ניהול קל**: הוספה, הסרה ועריכת כמות פריטים
- **אישור הזמנה**: הודעת אישור לאחר שליחת הזמנה
- **מעקב הזמנות**: חיפוש לפי שם או מספר טלפון
- **הקפאת מחירים**: מחירים מוקפאים עד להודעה חדשה
- **שליחת הזמנה**: כפתור "שלח הזמנה" במקום "שמור הזמנה"

### 🍗 מוצרים חדשים
- **קטגוריית הודו**: הודו שלם נקבה, חזה הודו נקבה, שווארמה הודו נקבה
- **המבורגר הבית**: המבורגר 160 גרם, המבורגר 220 גרם
- **מוצרים נוספים**: קורקבן עוף, טחול עוף, טחון מיוחד

### 🔎 חיפוש חכם (חדש)
- **תיקון שגיאות כתיב והצעת חלופות דומות** באופן אוטומטי
- **חיפוש גם בגוף העמוד וגם בסיידבר**
- **סינון לפי קטגוריה** לקבלת תוצאות ממוקדות
- **הצגת אחוז דמיון וסוג התאמה**: מדויק / דומה מאוד / דומה / דומה חלקית
- חיפוש הוא **ידני**: יש ללחוץ על כפתור "חפש" אחרי ההקלדה

### 📱 אינטגרציה עם וואטסאפ
- **שליחת הזמנה לוואטסאפ**: לאחר הזמנה מוצלחת, המערכת שולחת פרטי ההזמנה לוואטסאפ
- **הודעות מוכנות**: הודעות אוטומטיות עם פרטי ההזמנה (ללא מחירים)
- **פורמט מספר טלפון**: המרה אוטומטית לפורמט בינלאומי
- **פרטים מלאים**: כולל פרטי הזמנה, כתובת והערות

## איך זה עובד?

1. **בחירת מוצרים**
   - בחרו מוצרים לפי קטגוריה (עופות, בשר, דגים, הודו, המבורגר הבית, אחר).
   - הוסיפו לעגלה את הכמות הרצויה (בקילו או ביחידות).
   - ניתן להוסיף הוראות חיתוך למוצרים מסוימים.

### 🔎 חיפוש מוצר
- הקלידו שם מוצר בשדה החיפוש (לדוגמה: "שניצל עוף", "המבורגר הבית", "טחון עגל").
- ניתן לבחור קטגוריה מסוימת כדי לצמצם תוצאות, או להשאיר "כל הקטגוריות".
- לחצו על הכפתור "🔎 חפש" להצגת תוצאות.
- אם יש שגיאת כתיב, יוצגו הצעות כמו "האם התכוונת ל..." ומוצרים דומים.
- בכל תוצאה ניתן לבחור משקל/כמות, הוראת חיתוך (אם רלוונטי), ולהוסיף לעגלה.

2. **מעבר לעגלה**
   - בעגלת הקניות תראו את כל המוצרים שבחרתם.
   - מוצג משקל כולל (אם רלוונטי).
   - **שימו לב:** לא מוצג מחיר כולל, אלא רק עלות משלוח.

3. **הזנת פרטי משלוח**
   - מלאו שם, כתובת, טלפון והערות לשליח (אם יש).
   - ודאו שמספר הטלפון תקין.
   - פרטיכם יישמרו במערכת המנהל למעקב עתידי.

4. **שליחת הזמנה**
   - לחצו על "📤 שלח הזמנה".
   - תקבלו אישור שההזמנה התקבלה.
   - ההזמנה תוקשר למערכת המנהל עם פרטי הלקוח.
   - **חדש**: פרטי ההזמנה יישלחו לוואטסאפ שלכם (ללא מחירים).

## מה לא תראו?
- **לא מוצג מחיר כולל להזמנה** – רק עלות משלוח מוצגת.
- **מחירים מוקפאים** – מחירי המוצרים לא מוצגים בשלב זה עד להודעה חדשה.
- אין צורך בתשלום מראש, התשלום יתבצע מול השליח.

### 📋 פרטי משלוח
- שם מלא
- כתובת מגורים (רחוב, מספר בית, עיר)
- מספר טלפון
- הערות לשליח

### למה לא רואים את המחיר הכולל?
המערכת נועדה להקל על ההזמנה ולמנוע בלבול. המחיר הסופי יינתן ע"י העסק לאחר שקלול משקל/כמות בפועל. בשלב זה המחירים מוקפאים עד להודעה חדשה.

### איך אדע אם ההזמנה התקבלה?
לאחר שליחה תופיע הודעת אישור. ניתן לעקוב אחרי סטטוס ההזמנה בלשונית "מעקב הזמנות". **חדש**: פרטי ההזמנה יישלחו לוואטסאפ שלכם.

### מה קורה לפרטים שלי?
- פרטיכם נשמרים במערכת המנהל למשך 365 ימים
- הנתונים משמשים למעקב אחר הזמנות עתידיות
- המנהל יכול לראות היסטוריית הזמנות שלך
- הנתונים נמחקים אוטומטית לאחר שנה

### איך עובדת שליחת הוואטסאפ?
- לאחר הזמנה מוצלחת, המערכת תיצור הודעה עם פרטי ההזמנה
- ההודעה תשלח למספר הטלפון שהזנתם
- המחירים לא יופיעו בהודעה (הם מוקפאים)
- תוכלו לפתוח את הוואטסאפ ישירות מהקישור שיוצג

## 🚀 הפעלת האפליקציה

### Windows PowerShell:
```powershell
cd zoares-order-system
python -m streamlit run customer_app.py --server.port 8505
```

### Windows Command Prompt:
```cmd
cd zoares-order-system
python -m streamlit run customer_app.py --server.port 8505
```

### Linux/Mac:
```bash
cd zoares-order-system
python -m streamlit run customer_app.py --server.port 8505
```

### כתובת גישה
- **אפליקציית לקוחות**: http://localhost:8505

## 📁 מבנה הקבצים
```
zoares-order-system/
├── app.py              # אפליקציית ניהול (למנהלים)
├── customer_app.py     # אפליקציית לקוחות
├── database.py         # ניהול מסד הנתונים
├── zoares_central.db   # מסד נתונים מרכזי
├── requirements.txt    # תלויות
├── README.md          # הוראות למנהלים
└── README_CUSTOMER.md # הוראות לקוחות
```

## תקלות נפוצות
- **מספר טלפון לא תקין:** ודאו שהזנתם מספר ישראלי תקני.
- **שדה חובה חסר:** מלאו את כל השדות המסומנים בכוכבית.
- **הזמנה לא נשלחת:** ודאו שמילאתם את כל הפרטים הנדרשים.
- **חיפוש לא מחזיר תוצאות:** ודאו שלחצתם על כפתור "חפש" לאחר ההקלדה, ונסו להקליד לפחות 2 תווים. אפשר גם לבחור קטגוריה מתאימה לקבלת תוצאות ממוקדות.
- **הודעת וואטסאפ לא נשלחת:** ודאו שמספר הטלפון תקין ושהוא מתחיל ב-05.

## תמיכה
לכל שאלה או בעיה – פנו אלינו דרך האתר או בטלפון.

## 📊 סטטיסטיקות וניתוח נתונים (למנהל)
- המערכת שומרת נתוני הזמנות סגורות ל-5 שנים ונתוני הזמנות פעילות ל-20 ימי עסקים.
- נתוני לקוחות נשמרים ל-365 ימים.
- ניתוחים כוללים: פילוח לפי קטגוריה, פריט, לקוח, חודשים וחגי ישראל.
- הצגת גרפים מתקדמים (למנהל בלבד).
- ניתוח לקוחות עם היסטוריית הזמנות וסטטיסטיקות.

## 🔒 פרטיות ואבטחה
- **נתונים מקומיים**: כל הנתונים נשמרים מקומית במחשב העסק
- **שמירת פרטיות**: נתוני לקוחות נשמרים למשך שנה בלבד
- **ניקוי אוטומטי**: מחיקת נתונים ישנים אוטומטית
- **גישה מוגבלת**: רק למנהלי העסק
- **הקפאת מחירים**: מחירים לא מוצגים בשלב זה עד להודעה חדשה

## 🆕 עדכונים אחרונים (דצמבר 2024)
- **הקפאת מחירים**: מחירי המוצרים לא מוצגים בשלב זה עד להודעה חדשה
- **שליחת הזמנה**: כפתור "שלח הזמנה" במקום "שמור הזמנה"
- **אינטגרציה וואטסאפ**: שליחת פרטי הזמנה לוואטסאפ לאחר הזמנה מוצלחת
- **הסרת חישובי מחיר**: הסיידבר לא מציג מחירים בשלב זה
- **תיקון שגיאות**: פתרון בעיות עריכה וניהול הזמנות

---

**Zoares - מערכת הזמנות מתקדמת ללקוחות** 🛒
