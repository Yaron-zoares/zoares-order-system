# 🐓 מערכת ניהול הזמנות Zoares

מערכת ניהול הזמנות מתקדמת לבעלי עסקים עם תכונות מתקדמות לניהול הזמנות, לקוחות וניתוח נתונים.

## 👨‍💻 מפתח המערכת
**פותח על ידי:** ירון זוארס

---

## ✨ תכונות חדשות

### 🔄 ניהול הזמנות אוטומטי
- **הזמנות פעילות**: הזמנות לא סופקות נשמרות עד 20 ימי עסקים
- **הזמנות סגורות**: הזמנות שהושלמו נשמרות עד 60 ימי עסקים
- **ניקוי אוטומטי**: המערכת מנקה הזמנות ישנות אוטומטית
- **מספור אוטומטי**: כל הזמנה מקבלת מספר ייחודי

### 📋 לשוניות נפרדות
- **הזמנות פעילות**: הזמנות שעדיין בטיפול
- **הזמנות סגורות**: הזמנות שהושלמו או נסגרו
- **כפתור סגירה**: אפשרות לסגור הזמנה ולהעבירה להזמנות סגורות

### 🍗 מוצרים חדשים וקטגוריות
- **קטגוריית הודו**: הודו שלם, חזה הודו, שווארמה הודו נקבה, קורקבן הודו, כנפיים הודו, שוקיים הודו, לבבות הודו נקבה, גרון הודו, ביצי הודו
- **קטגוריית המבורגר הבית**: המבורגר הבית (מינימום 5 יחידות)
- **מוצרים חדשים בעופות**: קורקבן עוף, טחול עוף, טחון מיוחד (שווארמה נקבה, פרגית וחזה עוף)
- **מוצרים חדשים בבשר**: פילה פרמיום

### 🔪 אפשרויות חיתוך מורחבות
- **עוף שלם**: שלם, פרוס לשניצל, פרוס ל-8 חלקים, עוף פרוס לשניצל ללא עור, עוף פרוס ל-8 חלקים ללא עור
- **שניצל עוף**: שניצל פרוס עבה, שניצל פרוס דק
- **כרעיים עוף**: שלם, חצוי, שלם בלי עור, חצוי בלי עור
- **ירכיים**: עם עור, בלי עור
- **שוקיים עוף**: שוקיים עם עור, שוקיים בלי עור
- **שווארמה עוף**: חתוך לשיפודים, רצועות, פרוס דק, סטיק פרגית
- **שווארמה הודו נקבה**: חתוך לשיפודים, רצועות, פרוס, שלם

### 📱 אינטגרציה עם וואטסאפ
- **כפתור וואטסאפ מהיר**: פתיחת שיחה ישירה עם הלקוח
- **הודעות מוכנות**: הודעות אוטומטיות עם פרטי ההזמנה
- **פורמט מספר טלפון**: המרה אוטומטית לפורמט בינלאומי
- **הודעות מפורטות**: כולל פרטי הזמנה, כתובת והערות

### 🚚 עדכוני משלוח
- **עלות משלוח לבני ברק**: 20 ש"ח (עודכן מ-15 ש"ח)
- **עלות משלוח מחוץ לבני ברק**: 25 ש"ח
- **שעות פעילות**: א'-ה' 6:00-14:00, ו' 6:00-12:00 (עודכן מ-6:00-14:00)

### 🛒 אפליקציית לקוחות משופרת
- **עופות טריים ארוזים**: התאמה אישית לפי בקשת הלקוח ביחידות ו/או במשקל
- **מוצרים מובילים**: הדגשת עופות טריים ארוזים
- **מעקב הזמנות**: חיפוש לפי שם או מספר טלפון
- **עגלת קניות**: ניהול פריטים עם אפשרויות עריכה

## 🚀 התקנה והפעלה

### דרישות מערכת
```bash
pip install streamlit pandas
```

### הפעלת האפליקציה

#### Windows PowerShell:
```powershell
# עבור לאפליקציית בעל העסק
cd order-manager
python -m streamlit run app.py

# עבור לאפליקציית הלקוחות (בטרמינל נפרד)
cd order-manager
python -m streamlit run customer_app.py --server.port 8505
```

#### Windows Command Prompt:
```cmd
# עבור לאפליקציית בעל העסק
cd order-manager
python -m streamlit run app.py

# עבור לאפליקציית הלקוחות (בטרמינל נפרד)
cd order-manager
python -m streamlit run customer_app.py --server.port 8505
```

#### Linux/Mac:
```bash
# עבור לאפליקציית בעל העסק
cd order-manager
python -m streamlit run app.py

# עבור לאפליקציית הלקוחות (בטרמינל נפרד)
cd order-manager
python -m streamlit run customer_app.py --server.port 8505
```

### כתובות גישה
- **אפליקציית בעל העסק**: http://localhost:8501
- **אפליקציית לקוחות**: http://localhost:8505

### הפעלה במקביל
ניתן להפעיל את שתי האפליקציות במקביל בטרמינלים נפרדים:
```bash
# טרמינל ראשון - מנהל העסק
python -m streamlit run app.py

# טרמינל שני - לקוחות
python -m streamlit run customer_app.py --server.port 8505
```

## 📊 תכונות המערכת

### 🛒 ניהול הזמנות
- **הוספת הזמנות**: יצירת הזמנות חדשות עם פרטי לקוח מלאים
- **עריכת הזמנות**: עדכון פרטי הזמנות קיימות
- **סגירת הזמנות**: העברת הזמנות להזמנות סגורות
- **מחיקת הזמנות**: מחיקה סופית של הזמנות

### 👥 ניהול לקוחות
- **פרטי לקוח**: שם, טלפון, כתובת
- **הערות משלוח**: הערות מיוחדות לשליח
- **היסטוריית הזמנות**: מעקב אחר הזמנות קודמות

### 📦 ניהול מוצרים
- **קטגוריות מוצרים**: עופות, בשר, דגים, הודו, המבורגר הבית, אחר
- **מחירים קבועים**: מחירים מוגדרים מראש לכל מוצר
- **מוצרים מותאמים**: אפשרות להוספת מוצרים מותאמים אישית
- **אפשרויות חיתוך**: חיתוך מותאם אישית לכל מוצר
- **מכירה ביחידות ומשקל**: גמישות בבחירת אופן המכירה

### 📊 ניתוח נתונים
- **סטטיסטיקות**: ניתוח הזמנות פעילות וסגורות
- **גרפים**: הצגה ויזואלית של הנתונים
- **דוחות**: דוחות מפורטים על ביצועים

## 🔧 הגדרות מערכת

### קבצי נתונים
- `orders.json` - הזמנות פעילות
- `closed_orders.json` - הזמנות סגורות
- `order_counter.json` - מונה הזמנות

### קבצי אפליקציה
- `app.py` - אפליקציית מנהל העסק
- `customer_app.py` - אפליקציית הלקוחות
- `requirements.txt` - תלויות Python
- `README.md` - מדריך שימוש
- `README_CUSTOMER.md` - מדריך ללקוחות

### הגדרות שמירה
- **הזמנות פעילות**: 20 ימי עסקים
- **הזמנות סגורות**: 60 ימי עסקים
- **ניקוי אוטומטי**: בעת הפעלת האפליקציה

## 📱 ממשק משתמש

### ניווט
- **הזמנות פעילות**: צפייה ועריכת הזמנות בטיפול
- **הזמנות סגורות**: צפייה בהיסטוריית הזמנות
- **הוספת הזמנה**: יצירת הזמנה חדשה
- **עריכת הזמנות**: עדכון הזמנות קיימות
- **ניתוח נתונים**: דוחות וסטטיסטיקות

### פעולות מהירות
- **הדפסה**: הדפסת הזמנות בפורמט HTML
- **וואטסאפ**: פתיחת שיחה בוואטסאפ עם הלקוח (הודעות מוכנות)
- **סגירה**: סגירת הזמנה והעברה לארכיון
- **ניקוי**: ניקוי ידני של הזמנות ישנות
- **עריכת עגלה**: הוספה, הסרה ועריכת כמות פריטים
- **מעקב הזמנות**: חיפוש לפי שם או מספר טלפון

## 🎯 יתרונות המערכת

### לבעל העסק
- **ניהול יעיל**: הפרדה בין הזמנות פעילות לסגורות
- **מעקב מדויק**: מספרי הזמנות ייחודיים
- **שמירה אוטומטית**: ניקוי אוטומטי של הזמנות ישנות
- **ניתוח נתונים**: תובנות על ביצועי העסק
- **תקשורת ישירה**: כפתורי וואטסאפ מהירים עם הודעות מוכנות
- **ניהול מוצרים מורחב**: קטגוריות חדשות ואפשרויות חיתוך מתקדמות

### ללקוחות
- **מעקב הזמנות**: סטטוס הזמנה מעודכן
- **פרטים מדויקים**: פרטי משלוח והערות
- **היסטוריה**: גישה להיסטוריית הזמנות
- **עופות טריים**: אריזה בהתאמה אישית ביחידות ו/או במשקל
- **אפשרויות חיתוך**: חיתוך מותאם אישית לכל מוצר
- **עגלת קניות מתקדמת**: ניהול קל ונוח של פריטים

## 🔒 אבטחה ופרטיות
- **נתונים מקומיים**: כל הנתונים נשמרים מקומית
- **גיבוי אוטומטי**: שמירה אוטומטית של הנתונים
- **גישה מוגבלת**: רק למשתמשים מורשים

## 📞 תמיכה
לשאלות ותמיכה טכנית, פנה אל צוות הפיתוח.

---
**Zoares - מערכת ניהול הזמנות המתקדמת** 🐓 

## 🛠️ תקלות נפוצות ופתרונות

### שגיאת ValueError: list.remove(x): x not in list
- **בעיה:** השגיאה נגרמת כאשר מנסים למחוק אובייקט הזמנה שהוא עותק ולא האובייקט המקורי שברשימה.
- **פתרון:** המערכת כעת מסירה הזמנות לפי מזהה (`id`) ולא לפי אובייקט, כך שהבעיה לא תחזור.

### סנכרון רשימת ההזמנות
- כל פעולה של מחיקה/סגירה/עדכון מתבצעת על פי מזהה ייחודי, מה שמבטיח סנכרון מלא בין התצוגה לקבצי הנתונים.

## ℹ️ עדכונים אחרונים

### 🆕 עדכונים חדשים (יולי 2025)
- **קטגוריית הודו:** הוספת קטגוריה חדשה עם מוצרי הודו מגוונים
- **קטגוריית המבורגר הבית:** המבורגר הבית עם מינימום הזמנה של 5 יחידות
- **מוצרים חדשים:** קורקבן עוף, טחול עוף, טחון מיוחד, פילה פרמיום
- **אפשרויות חיתוך מורחבות:** חיתוך מתקדם לכל סוגי העופות והבשר
- **אינטגרציה עם וואטסאפ:** כפתורים מהירים עם הודעות מוכנות
- **עדכון עלויות משלוח:** בני ברק 20 ש"ח, מחוץ לבני ברק 25 ש"ח
- **עדכון שעות פעילות:** יום שישי 6:00-12:00
- **עופות טריים ארוזים:** התאמה אישית ביחידות ו/או במשקל

### 🔧 שיפורים טכניים
- **תיקון סנכרון:** הסרת הזמנות מתבצעת לפי מזהה (`id`) בלבד, למניעת שגיאות ולשמירה על תקינות הנתונים.
- **שיפור חוויית ניהול:** כל שינוי (סגירה, מחיקה, עדכון) משפיע מיידית על הרשימה ומסונכרן עם קובץ הנתונים.
- **עגלת קניות משופרת:** ניהול קל יותר של פריטים עם אפשרויות עריכה
- **מעקב הזמנות:** חיפוש מתקדם לפי שם או מספר טלפון 

