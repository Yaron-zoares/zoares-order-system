# מערכת ניהול הזמנות זוארס - Zoares Order Management System

## 🚀 הפעלת המערכת

### **פורטים מומלצים:**
- **אפליקציה ראשית**: פורט 9001
- **אפליקציית לקוחות**: פורט 9002  
- **שרת API**: פורט 8001

### **פקודות הפעלה:**

#### 1. הפעלת שרת ה-API (חובה תחילה):
```bash
cd backend
python api.py
```

#### 2. הפעלת האפליקציה הראשית:
```bash
streamlit run app.py --server.port 9001
```

#### 3. הפעלת אפליקציית הלקוחות:
```bash
streamlit run customer_app.py --server.port 9002
```

### **כתובות גישה:**
- 🌐 **אפליקציה ראשית**: http://localhost:9001
- 🛒 **אפליקציית לקוחות**: http://localhost:9002
- 🔧 **שרת API**: http://localhost:8001

## 📋 תכונות המערכת

### **אפליקציה ראשית (app.py):**
- ניהול הזמנות פעילות וסגורות
- הוספת ועריכת הזמנות
- ניתוח נתונים וסטטיסטיקות
- ניהול לקוחות
- תחזוקת מסד הנתונים
- ניתוח מתקדם

### **אפליקציית לקוחות (customer_app.py):**
- הזמנת מוצרים
- עגלת קניות
- מעקב הזמנות
- ניהול פרופיל לקוח
- שמירה אוטומטית בשרת או מקומית

### **שרת API (backend/api.py):**
- ניהול לקוחות
- ניהול הזמנות
- ניהול מוצרים
- סטטיסטיקות
- סנכרון נתונים

## 🛠️ דרישות מערכת

### **תלויות Python:**
```bash
pip install -r requirements.txt
```

### **קבצים נדרשים:**
- `zoares_central.db` - מסד הנתונים (נוצר אוטומטית)
- `backend/` - תיקיית השרת
- `app.py` - אפליקציה ראשית
- `customer_app.py` - אפליקציית לקוחות

## 🔧 פתרון בעיות

### **בעיות פורטים:**
אם הפורטים תפוסים, השתמש בפורטים גבוהים יותר:
```bash
streamlit run app.py --server.port 9003
streamlit run customer_app.py --server.port 9004
```

### **בעיות מסד נתונים:**
המערכת כוללת דף תחזוקה אוטומטי:
1. עבור לדף "תחזוקת מסד הנתונים"
2. לחץ על "בדוק קונפליקטים"
3. לחץ על "אפס מונה הזמנות" אם נדרש

### **בעיות API:**
אם השרת לא זמין, המערכת תשמור אוטומטית במסד הנתונים המקומי.

## 📊 מבנה מסד הנתונים

- **orders** - הזמנות פעילות
- **closed_orders** - הזמנות סגורות
- **customers** - לקוחות
- **order_counter** - מונה הזמנות

## 🔄 סנכרון נתונים

המערכת מנסה לשמור בשרת ה-API תחילה. אם זה נכשל, היא שומרת במסד הנתונים המקומי עם אפשרות סנכרון מאוחר יותר.

## 📞 תמיכה

לבעיות טכניות, בדוק:
1. שכל הפורטים זמינים
2. ששרת ה-API פועל
3. שכל התלויות מותקנות
4. דף תחזוקת מסד הנתונים לבעיות מקומיות

---

**גרסה**: 2.0  
**עדכון אחרון**: אוגוסט 2024  
**מפתח**: מערכת זוארס 

